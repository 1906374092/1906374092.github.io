(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{322:function(s,e,a){"use strict";a.r(e);var t=a(1),n=Object(t.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",{staticClass:"content"},[a("p",[a("strong",[s._v("前言")])]),s._v(" "),a("p",[s._v("觊觎树莓派好久了，终于一狠心，一跺脚，在某宝入手了一块树莓派3B。花了四百多块大洋，其实一块树莓派主板还不到两百大洋，但是某宝上的套件实在诱人，3.5寸lcd触摸屏，无线键鼠套装等，买回来才发现那些所谓的开发套件大多数都是鸡肋。不过总的来说还是很值得的，armv7架构，4核1G，运行基本的linux程序绰绰有余。对于不知道树莓派是干嘛用的小白，请自行百度，本教程适用有一定编程基础的童鞋～～～")]),s._v(" "),a("p",[s._v("--\n"),a("strong",[s._v("树莓派配置环境")])]),s._v(" "),a("p",[s._v("树莓派没有硬盘，存储全靠一张tf内存卡，就是手机通用的那种。最好是闪迪class10的，class10读写速度快，闪迪兼容性好。\n拿到内存卡后，首先是格式化，操作流程不细说了，总之格式化成fat32文件系统就可以。然后去树莓派官网下载系统镜像，经过一番折腾感觉树莓派官方的raspbian系统没有ubuntu mate用着好，所以直接下载ubuntu mate版解压缩得到img镜像文件。然后打开命令行")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("df -h\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("查看当前文件系统的挂在卷，然后插上格式化好的tf卡，通常都是读卡器。再次输入 df -h命令，查看多出了哪个系统卷。多出的那个就是内存卡了。然后卸载卷：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sudo umount 你要卸载的卷\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("之后再运行一次 df -h查看是否卸载成功，然后写入镜像：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sudo dd bs=4m if=镜像绝对路径 of=内存卡所在的盘(eg:/dev/disk2)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("需要几分钟时间，写好镜像后会显示写入大小。\n写入成功后，运行命令推出tf卡：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sudo umountDisk 内存卡所在的盘(eg:/dev/disk2)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("然后拔出内存卡，插到树莓派插槽上，通电开机，完美运行。\nubuntu mate默认用户名：ubuntu 密码：ubuntu。")]),s._v(" "),a("p",[s._v("OK，到这里我们就可以愉快的折腾树莓派啦😄。")]),s._v(" "),a("p",[a("strong",[s._v("rtmp直播")])]),s._v(" "),a("p",[s._v("如果你的树莓派有显示屏，或者你直接使用ssh或vnc登录其实都可以，总之就是要进入unbuntu系统的终端，能使用命令行，就可以了。")]),s._v(" "),a("p",[s._v("1.安装ffmpeg推流工具")]),s._v(" "),a("p",[s._v("使用apt-get install ffmpeg --fix-missing ，这样就会连同依赖包一起安装，安装完成后就可以直接使用了。\n在终端输入推流命令：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("setsid ffmpeg -re -f concat -safe 0 -i playlist.txt -c copy -f flv 'rtmp://live-send.acg.tv/live/live_20572797_6228231?streamname=live_20572797_6228231&key=b084060931cdf8f37a629acedcdbec8e'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("setsid为程序后台运行的命令，引号内的rtmp链接为B站的直播码，也可以是斗鱼或其他平台都可以。playlist.txt文件是播放列表。里面的内容是这种格式的：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("file '/media/UDisk/movie/无间道1.mp4'\nfile '/media/UDisk/movie/无间道2.mp4'\nfile '/media/UDisk/movie/无间道3.mp4'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("这样上面的命令运行成功会在终端内不断输出流信息。现在打开你的直播间。就能看到推流的内容了。\n下面放效果\n"),a("img",{attrs:{src:"http://ww3.sinaimg.cn/large/0060lm7Tly1fl9hwdppw3j31hc0u0npd.jpg",alt:""}})]),s._v(" "),a("p",[a("em",[s._v("大吉大利，大功告成！！！")])])])}],!1,null,null,null);e.default=n.exports}}]);