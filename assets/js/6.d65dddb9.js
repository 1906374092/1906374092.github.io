(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{320:function(s,e,n){"use strict";n.r(e);var r=n(1),a=Object(r.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("div",{staticClass:"content"},[n("p",[s._v("如果还没有nginx和node环境，在mac环境下可以使用homebrew包管理工具安装")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v(" brew install homebrew/nginx\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("brew install node\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("linux及windows环境使用对应包管理工具或直接下载安装。")]),s._v(" "),n("p",[n("strong",[s._v("1.编写nodejs服务端文件")])]),s._v(" "),n("p",[s._v("分别编写server8881.js , server8882.js , server8883.js , 代码如下，修改对应端口号即可。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("var http = require('http');\nhttp.createServer(function (request, response) {\n    response.writeHead(200, {'Content-Type': 'text/plain'});\n    response.end('server 8881');\n}).listen(8881);\n// 终端打印如下信息\nconsole.log('Server running at http://127.0.0.1:8881/');\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("打开三个终端窗口，cd到server.js保存目录，分别执行node server8881.js , node server8882.js , node server8883.js命令。\n终端显示Server running at http://127.0.0.1:8881。")]),s._v(" "),n("p",[n("strong",[s._v("2.配置nginx.conf")])]),s._v(" "),n("p",[s._v("找到nginx.conf用编辑器打开，在http模块下加入如下代码。保存并在终端执行nginx -s reload。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("    upstream localhost{\n      server 127.0.0.1:8881;\n      server 127.0.0.1:8882;\n      server 127.0.0.1:8883;\n    }\n    server{ \n        listen 8088; \n        server_name localhost; \n        location / { \n            proxy_pass         http://localhost; \n            proxy_set_header   Host             $host; \n            proxy_set_header   X-Real-IP        $remote_addr; \n            proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for; \n        } \n    }\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[s._v("server模块为主服务器监听8088端口，proxy_pass将请求发送到node服务，upstream模块配置负载主机。")]),s._v(" "),n("p",[n("strong",[s._v("3.测试")])]),s._v(" "),n("p",[s._v("打开浏览器在地址栏输入http://localhost:8088/回车，浏览器显示 “server 端口号”，刷新几次发现端口号随机更改，nginx配置成功！！！！")])])}],!1,null,null,null);e.default=a.exports}}]);